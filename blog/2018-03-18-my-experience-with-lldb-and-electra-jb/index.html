<html>
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>
		My experience with LLDB on Electra Jailbreak 1.0.4 - @kov4l3nko
	</title>
	<link rel="stylesheet" type="text/css" href="https://kov4l3nko.github.io/styles.css">
	
</head>
<body>
	<header>
		<div id="top">
			<div id="blog-title">
				<h1><a href="https://kov4l3nko.github.io/">@kov4l3nko</a></h1>
			</div>
			<div id="blog-menu">
				<a href="https://kov4l3nko.github.io/">Blog</a>
				
					<a href="https://kov4l3nko.github.io/about/">About</a>&nbsp;
				
					<a href="https://twitter.com/kov4l3nko">Twitter</a>&nbsp;
				
					<a href="https://github.com/kov4l3nko">GitHub</a>&nbsp;
				
					<a href="https://kov4l3nko.github.io/blog/index.xml">RSS</a>&nbsp;
				
			</div>
		</div>
		<img id="blog-title-image" src="title.jpg">
	</header>

	<content>
		<h1 class="post-title">My experience with LLDB on Electra Jailbreak 1.0.4</h1>
		<div class="post-date">Mar 18, 2018</div>
		
			<nav id="TableOfContents">
<ul>
<li><a href="#debugging-via-usb">Debugging via USB</a></li>
<li><a href="#attaching-lldb-to-already-running-process">Attaching LLDB to already running process</a></li>
<li><a href="#running-an-app-under-lldb">Running an app under LLDB</a></li>
</ul>
</nav>
		
		

<p>I tried to google a short and clear instruction how to debug apps from AppStore on iOS devices jailbroken with <a href="https://coolstar.org/electra/">Electra</a>, with no success, so I wrote this guide. I tested it on iPhone 7 running iOS 11.1.2 with Electra jailbreak of version 1.0.4. I&rsquo;m not sure it will work on any iOS device jailbroken with Electra.</p>

<h1 id="debugging-via-usb">Debugging via USB</h1>

<p>For me, it works only if I do debugging via USB. If <code>iproxy</code> is not installed on your Mac, install it, e.g. with <code>brew</code>:</p>

<pre><code>$ brew install usbmuxd
</code></pre>

<p>Then run in your Mac console:</p>

<pre><code>$ iproxy 6666 6666
</code></pre>

<p>Finally, attach you iPhone to USB. That&rsquo;s it, we are ready to start.</p>

<h1 id="attaching-lldb-to-already-running-process">Attaching LLDB to already running process</h1>

<p>On your Mac console, connect the iPhone:</p>

<pre><code>$ ssh -p 2222 root@localhost
</code></pre>

<p>In the iPhone&rsquo;s console, run</p>

<pre><code># ps ax
</code></pre>

<p>Find pid of the process you want to attach. Then run</p>

<pre><code># /electra/jailbreakd_client &lt;the pid&gt; 1
# /Developer/usr/bin/debugserver localhost:6666 -a &lt;the pid&gt;
</code></pre>

<p>If you see something like</p>

<pre><code>debugserver-@(#)PROGRAM:debugserver  PROJECT:debugserver-360.0.26.14
 for arm64.
Attaching to process 1418...
Listening to port 6666 for a connection from localhost...
</code></pre>

<p>everything going well. Now, open another console on your Mac, and run</p>

<pre><code>$ lldb
</code></pre>

<p>In LLDB command line, run</p>

<pre><code>(lldb) platform select remote-ios
(lldb) process connect connect://localhost:6666
</code></pre>

<p>That&rsquo;s it! :)</p>

<h1 id="running-an-app-under-lldb">Running an app under LLDB</h1>

<p>On your Mac console, connect the iPhone:</p>

<pre><code>$ ssh -p 2222 root@localhost
</code></pre>

<p>In the iPhone&rsquo;s console, run</p>

<pre><code># debugserver localhost:6666 -x backboard /var/containers/Bundle/Application/&lt;path to the app binary&gt;
</code></pre>

<p>If you see something like</p>

<pre><code>debugserver-@(#)PROGRAM:debugserver  PROJECT:debugserver-360.0.26.14
 for arm64.
Listening to port 6666 for a connection from localhost...
</code></pre>

<p>everything going well. Now, open another console on your Mac, and run</p>

<pre><code>$ lldb
</code></pre>

<p>In LLDB command line, run</p>

<pre><code>(lldb) platform select remote-ios
(lldb) process connect connect://localhost:6666
</code></pre>

<p>Happy debugging!</p>

		
		<h1>Wanna say something?</h1>
		<p>Commenting is not available in this blog, but you can <a href="https://kov4l3nko.github.io/about/">write me a letter or message</a>. Please, note that English is not my native language.
			I'm sorry for mistakes/missprints, if any.</p>
		

		
		
		
		
		
		
		
		
		
			
			
				
			
			
		
			
				
				
				
			
			
			
		
			
			
			
		
			
			
			
		
			
			
			
		
			
			
			
		
			
			
			
		
			
			
			
		
			
			
			
		
			
			
			
		
			
			
			
		
			
			
			
		
			
			
			
		
			
			
			
		
			
			
			
		
			
			
			
		
			
			
			
		
			
			
			
		
			
			
			
		
			
			
			
		
			
			
			
		
			
			
			
		
			
			
			
		
			
			
			
		
			
			
			
		
		
		
			Prev: <a href="https://kov4l3nko.github.io/blog/2018-01-25-debugging-mixed-android-code/">Debugging Android third-party Java apps with native methods</a>
			<br>
		
		
	</content>

	<footer>
		Copyright © Dima Kovalenko, 2012-2018
	</footer>
	
	<button onclick="topFunction()" id="scroll-btn" title="Go to top">▲</button>
	
	<script src="https://kov4l3nko.github.io/scripts.js"></script>
	
</body>
</html>